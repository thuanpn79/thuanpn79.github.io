!function(){"use strict";function e(e){e.when("/",{redirectTo:"/customers"}).when("/joblist",{redirectTo:"/jobList"}).otherwise({redirectTo:"/"})}function t(e,t,n,o,i){var r=o.getCurrentUser();r?e.currentUser=r:n.path("/login"),e.$on("$locationChangeStart",function(e,i,r){var a=n.path(),s=t.routes[a];if(s&&s.authorize)return o.isAuthenticated()?void(o.isAuthorized(s.authorize)||n.path("/login")):void n.path("/login")}),e.$on("$routeChangeSuccess",function(){t.current&&(e.hideHeader=t.current.hideHeader,e.category=t.current.category),t.current.title?document.title="ST Logistics - "+t.current.title:document.title="ST Logistics"})}function n(e){e.interceptors.push("httpInterceptor")}angular.module("main.module",["ngRoute","ngAnimate","ui.bootstrap","LocalStorageModule","ui.bootstrap.datetimepicker","toastr","ngTouch","ngSanitize","angularjs-dropdown-multiselect","hljs","customer.module","spAdminUser.module","adminUser.module","account.module","jobList.module","milkRun.module"]).config(n).config(e).run(t),e.$inject=["$routeProvider"],t.$inject=["$rootScope","$route","$location","authService","systemRole"],n.$inject=["$httpProvider"]}(),function(){"use strict";angular.module("main.module").constant("systemSetting",{serviceUrl:"http://ec2-52-77-214-252.ap-southeast-1.compute.amazonaws.com"}).constant("systemRole",{Customer:1,Admin:2,SuperAdmin:3}).constant("setItemPerPage",[{value:10,text:"10 entities"},{value:20,text:"20 entities"},{value:50,text:"50 entities"},{value:100,text:"100 entities"}]).constant("pageName",{TRANSACTIONS:"transactions",USERS:"Users",CLIENTS:"Customers",JOBTYPES:"jobtypes",LOCATIONS:"locations",REPORTS:"reports"}).constant("departments",{PSS:{id:1,name:"PSS"},Healthcare:{id:2,name:"Healthcare"}}).constant("pricingType",{Adhoc:0,AdhocExpres:1,MilkRun:2})}(),function(){"use strict";function e(e){e.when("/customers",{title:"Client Management",category:"Customers",controller:"CustomerController",templateUrl:"app/components/customer/customers.html",controllerAs:"vm",authorize:"Admin"}).when("/customers/create",{title:"Create new client",category:"Customers",controller:"CustomerDetailController",templateUrl:"app/components/customer/detail.html",controllerAs:"vm",authorize:"Admin"}).when("/customers/detail/:id",{title:"Client detail",category:"Customers",controller:"CustomerDetailController",templateUrl:"app/components/customer/detail.html",controllerAs:"vm",authorize:"Admin"}).when("/example",{title:"example",controller:"ExampleController",templateUrl:"app/components/customer/example.html",controllerAs:"vm",authorize:"Admin",hideHeader:!0})}function t(e,t){function n(){o()}function o(){a.options={sortColumn:"",sortAscending:!0,itemPerPage:20,currentPage:1,searchTerm:""},a.gridConfig={onClickRowDetail:r,columns:[{name:"sapCode",display:"SAP Code",columnNameSort:"sapCode"},{name:"organizationCode",display:"Organization Code",columnNameSort:"organizationCode"},{name:"organizationName",display:"Organization Name",columnNameSort:"organizationName"},{name:"clientType",display:"ClientType",columnNameSort:"clientType"},{name:"address",display:"Address",columnNameSort:"address"}]},i()}function i(){a.isGridLoading=!0,e(function(){a.data=[];for(var e=0;e<a.options.itemPerPage;e++)a.data.push({id:e,sapCode:"AL05",organizationCode:"ICA",organizationName:"Costal Command",clientType:"Heathcare",address:"31 Minara Costal Drive Singapore 157198571591"});a.options.totalItems=175,a.isGridLoading=!1},1e3)}function r(e){t.path("/customers/detail/"+e.id)}var a=this;a.getCustomerByCriteria=i,n()}function n(e,t,n){function o(){var e=t.id;if(e){r.clientDetail={id:e,clientName:"Nguyen Minh Tien",clientType:"PSS",sapCode:"AL06",organizationCode:"ICA",clientAddress:{postalCode:"123",blockNumber:"ABC",streetName:"Ansons Road 33",unitNumber:"#235-53"},contactPerson:"Jane",contactNumber:98743473443,endDateOfContract:new Date(2018,10,26),users:[],sameDayDelivery:new Date(2018,10,26,10,30),nextDayDelivery:new Date(2018,10,26,20,45),pricings:[{id:"6262362-6262362-62362626",pricingType:1,threeHr3Kg:10,sameDay3Kg:11,nextDay3Kg:11,threeHr4Kg:11,sameDay4Kg:11,nextDay4Kg:11,threeHr5Kg:11,sameDay5Kg:11,nextDay5Kg:11,threeHr10Kg:11,sameDay10Kg:11,nextDay10Kg:11,threeHr20Kg:11,sameDay20Kg:11,nextDay20Kg:11,additionalThreeHrAfter20Kg:11,additionalSameDayAfter20Kg:11,additionalNextDayAfter20Kg:11,additionalNonWorkingDay:11,additionalAfterOfficeHr:11}]};for(var n=0;n<2;n++)r.clientDetail.users.push({id:2,firstName:"Tien",lastName:"Nguyen Minh",email:"nguyeminhtien@gmail.com",phoneNumber:96444123,workAddress:{postalCode:"Postal Code 1",blockNumber:"BIk 31",streetName:"Martine Parade Street 29",unitNumber:"#20-23 S6613426"},billingAddresses:[{postalCode:"Postal Code 1",blockNumber:"BIk 31",streetName:"Martine Parade Street 29",unitNumber:"#20-23 S6613426"}],orgCode:"ICA",costCentre:"Cost centre 3"});r.viewMode=!0}else r.clientDetail={services:{},users:[],pricings:[],clientAddress:{}},r.viewMode=!1;r.clientDetail.clientType="PSS"}function i(){n.path("/customers")}var r=this;r.pssAdhocPricing={},r.healthCareAdhocPricing={},r.newUser={},r.saveCustomer=i,o()}function o(e){var t=this;t.open=function(){e.success("Hello world!","Toastr fun!")}}angular.module("customer.module",["ngRoute"]).config(e).controller("CustomerController",t).controller("CustomerDetailController",n).controller("ExampleController",o),e.$inject=["$routeProvider"],t.$inject=["$timeout","$location"],n.$inject=["$rootScope","$routeParams","$location"],o.$inject=["toastr"]}(),function(){"use strict";function e(e,t){function n(){o()}function o(){l.milkRunPricingExist=i(e.MilkRun)>=0,l.adhocPricingExist=i(e.Adhoc)>=0,l.adhocExpresPricingExist=i(e.AdhocExpres)>=0}function i(e){for(var t=0;t<l.listPricing.length;t++)if(l.listPricing[t].pricingType===e)return t;return-1}function r(n){l.adhocPricing={pricingType:n};var o=i(n);o>=0&&(l.adhocPricing=angular.copy(l.listPricing[o]));var r={setPricing:a},s=n===e.MilkRun?"app/components/customer/pricing/milkRunPricingModal.html":"app/components/customer/pricing/adhocPricingModal.html";t.createPopup({templateUrl:s,size:"lg",data:l.adhocPricing},r)}function a(){var e=i(l.adhocPricing.pricingType);e>=0?l.listPricing[e]=l.adhocPricing:l.listPricing.push(l.adhocPricing),o()}function s(e,n){if(l[n])l[n]=!1,t.createWarningPopup("Please set pricing for this service first!","Warning",null,!0);else{var o=i(e);o>=0&&l.listPricing.splice(o,1)}}var l=this;l.pricingType=e,l.setPricing=r,l.checkSetPricing=s,n()}angular.module("customer.module").directive("customerPricing",function(){return{restrict:"E",scope:{viewMode:"=",listPricing:"="},templateUrl:"app/components/customer/pricing/customerPricing.html",controller:e,controllerAs:"vm",bindToController:!0}}),e.$inject=["pricingType","modalService"]}(),function(){"use strict";function e(e){function t(){o.newUser={workAddress:{},billingAddresses:[{}]};var t={addNewUser:n};e.createPopup({templateUrl:"app/components/customer/user/userDetail.html",size:"lg",data:o.newUser},t)}function n(){o.listUser.push(o.newUser),o.newUser={workAddress:{},billingAddresses:[{}]}}var o=this;o.addNewUser=t}angular.module("customer.module").directive("customerUser",function(){return{restrict:"E",scope:{viewMode:"=",listUser:"="},templateUrl:"app/components/customer/user/customerUser.html",controller:e,controllerAs:"vm",bindToController:!0}}),e.$inject=["modalService"]}(),function(){"use strict";function e(e){e.when("/users",{title:"User management",category:"Users",controller:"SpAdminUserController",templateUrl:"app/components/spAdminUser/users.html",controllerAs:"vm",authorize:"SuperAdmin"}).when("/users/create",{title:"New admin",category:"Users",controller:"SpAdminUserDetailController",templateUrl:"app/components/spAdminUser/detail.html",controllerAs:"vm",authorize:"SuperAdmin"}).when("/users/detail/:id",{title:"Admin detail",category:"Users",controller:"SpAdminUserDetailController",templateUrl:"app/components/spAdminUser/detail.html",controllerAs:"vm",authorize:"SuperAdmin"})}function t(e,t){function n(){o(),i()}function o(){a.options={sortColumn:"",sortAscending:!0,itemPerPage:20,currentPage:1,searchTerm:""},a.gridConfig={onClickRowDetail:r,columns:[{name:"name",display:"Name",columnNameSort:"firstName"},{name:"email",display:"Email",columnNameSort:"email"},{name:"phoneNumber",display:"Contact number",columnNameSort:"phoneNumber"},{name:"departmentName",display:"Department",columnNameSort:"department"}]}}function i(){a.isGridLoading=!0,t.getAdminUserByCriteria(a.options).then(function(e){a.options.totalItems=e.data.totalCount;var t=e.data.users;angular.forEach(t,function(e){e.name=e.firstName+" "+e.lastName,e.departmentName=e.department.name}),a.users=t,a.isGridLoading=!1})}function r(t){e.path("/users/detail/"+t.id)}var a=this;a.getAdminUserByCriteria=i,n()}function n(e,t,n,o,i,r){function a(){var t=e.id;t?(n.getAdminUserById(t).then(function(e){m.userDetail=e.data}),m.viewMode=!0):m.viewMode=!1}function s(){m.viewMode=!1}function l(){m.isSaving=!0,n.saveAdminUser(m.userDetail).then(function(e){m.isSaving=!1;var n=m.userDetail.id?"The admin has been updated successfully.":"The admin has been created successfully.";i.success(n),t.path("/users")})}function c(){var e=m.isActive?"Are you sure you want to deactivate this admin?":"Are you sure you want to activate this admin?";r.createWarningPopup(e,"Warning",u)}function u(){var e=m.isActive?"The admin has been deactivated successfully.":"The admin has been activated successfully.";m.isActive=!m.isActive,i.success(e)}var m=this;m.departments=o,m.edit=s,m.save=l,m.deactivate=c,m.isActive=!0,a()}angular.module("spAdminUser.module",["ngRoute"]).config(e).controller("SpAdminUserController",t).controller("SpAdminUserDetailController",n),e.$inject=["$routeProvider"],t.$inject=["$location","adminUserService"],n.$inject=["$routeParams","$location","adminUserService","departments","toastr","modalService"]}(),function(){"use strict";function e(e){e.when("/login",{title:"Login",controller:"AccountController",templateUrl:"app/components/account/login.html",controllerAs:"vm",hideHeader:!0}).when("/account/forgot",{title:"Forgot password",controller:"AccountController",templateUrl:"app/components/account/forgot.html",controllerAs:"vm",hideHeader:!0}).when("/account/activate",{title:"Activate account",controller:"AccountController",templateUrl:"app/components/account/activate.html",controllerAs:"vm",hideHeader:!0})}function t(e,t,n){function o(){return s.email&&s.password?(s.isLoginInProgress=!0,void t.login(s.email,s.password).then(function(e){s.isLoginInProgress=!1,a()},function(){s.password="",s.isLoginInProgress=!1,s.wrongPassword=!0})):void(s.wrongPassword=!0)}function i(){n.path("/login")}function r(){s.isSentResetPassword=!0}function a(){e.currentUser=t.getCurrentUser(),n.path("/customers")}var s=this;s.login=o,s.activateAccount=i,s.resetPassword=r}angular.module("account.module",["ngRoute"]).config(e).controller("AccountController",t),e.$inject=["$routeProvider"],t.$inject=["$rootScope","authService","$location"]}(),function(){"use strict";function e(e){e.when("/jobList",{title:"jobList",controller:"JobListController",templateUrl:"app/components/jobList/jobList.html",controllerAs:"vm",authorize:"SuperAdmin"}).when("/jobList/create",{title:"New Adhoc job",category:"Adhoc",controller:"JobAdhocNewController",templateUrl:"app/components/jobList/jobAdhocNew.html",controllerAs:"vm",authorize:"Admin"})}function t(e,t){function n(){d.fromDate=new Date,d.toDate=new Date,d.requestButton="All",d.statusButton="All",d.customerButton="All",r(),s(),c(),m("Adhoc"),o()}function o(){d.gridConfig={columnIdentity:"id",navigationDetail:"/jobList/jobAdhocNew.html/",columns:[{name:"collectionBarcode",display:"Collection barcode",id:1},{name:"customer",display:"Customer",id:2},{name:"createdDate",display:"Created date",id:3},{name:"requestType",display:"Request type",id:4},{name:"reqStatus",display:"Req status",id:5},{name:"status",display:"Status",id:6},{name:"pickupPoint",display:"Pick up point",id:7},{name:"deliveryPoint",display:"Delivery point",id:8}]},i()}function i(){d.isGridLoading=!0,e(function(){d.data=[],d.optionsGrid={sortColumn:"",sortAscending:!0,itemPerPage:20,totalItems:10};for(var e=0;e<100;e++)d.data.push({collectionBarcode:"C543645E411NE",customer:"ICA-Costal Command",createdDate:"27/01/2016 08:09:03",requestType:"Normal Service",reqStatus:"Waiting",status:"N/A",pickupPoint:"10 Brani Way Singapore",deliveryPoint:"31 Marina Coastal Drive Singapore 175384"});d.optionsGrid.totalItems=100,d.isGridLoading=!1},2e3)}function r(){d.requestTypes=["All","Normal service 1","Normal service 2","Normal service 3"]}function a(e){d.requestButton=e}function s(){d.statusList=["All","Picking up","Collected","N/A"]}function l(e){d.statusButton=e}function c(){d.customerList=["All","ICA-Costal Command 1","ICA-Costal Command 2","ICA-Costal Command 3"]}function u(e){d.customerButton=e}function m(e){"Adhoc"===e?(d.modelClassAdhoc="btn btn-default btn-block btn-action active",d.modelClassMilkRun="btn btn-default btn-block btn-additional"):(d.modelClassAdhoc="btn btn-default btn-block btn-additional",d.modelClassMilkRun="btn btn-default btn-block btn-action active")}var d=this;d.getTransactionByCriteria=i,d.requestTypes=[],d.getRequestTypes=r,d.change=a,d.statusList=[],d.getStatusList=s,d.changeStatus=l,d.customerList=[],d.getCustomerList=c,d.changeCustomer=u,d.getTransactions=m,n()}function n(e,t,n){function o(){c.viewMode=!0,c.totalChargeAmount=0}function i(){var e={addNewItem:r};n.createPopup({templateUrl:"app/components/jobList/jobAdhocNewItem.html",size:"lg",data:c.itemDetail},e)}function r(){var e=0;e=null!==c.itemList&&c.itemList.length>0?parseInt(c.itemList.length)+1:1,c.itemList.push({no:e,itemDescription:c.itemDetail.itemDescription,uom:c.itemDetail.uom,unitMass:c.itemDetail.unitMass,unitVol:c.itemDetail.unitVol,issueQty:c.itemDetail.issueQty,remark:c.itemDetail.remark}),c.itemDetail={}}function a(){var e={addAdditionalCharge:s};n.createPopup({templateUrl:"app/components/jobList/jobAdhocAdtnCharge.html",size:"lg",data:c.chargeDetail},e)}function s(){c.chargeList.push({description:c.chargeDetail.description,price:c.chargeDetail.price}),c.totalChargeAmount=l(),c.chargeDetail={}}function l(){for(var e=0,t=0,n=c.chargeList.length;t<n;t++)e+=parseFloat(c.chargeList[t].price);return e}var c=this;c.itemDetail={},c.chargeDetail={},c.itemList=[],c.chargeList=[],c.addNewItem=i,c.addAdditionalCharge=a,o()}angular.module("jobList.module",["ngRoute"]).config(e).controller("JobListController",t).controller("JobAdhocNewController",n),e.$inject=["$routeProvider"],t.$inject=["$timeout","$uibModal"],n.$inject=["$timeout","$uibModal","modalService"]}(),function(){"use strict";function e(e){e.when("/clientUsers",{title:"User Client management",category:"Users",controller:"AdminUserController",templateUrl:"app/components/adminUser/clientUsers.html",controllerAs:"vm",authorize:"Admin"})}function t(e,t){function n(){o()}function o(){u.gridConfig={onClickRowDetail:s,columns:[{name:"name",display:"Name",css:"col-md-1"},{name:"email",display:"Email",css:"col-md-2"},{name:"contactNo",display:"Contact no",css:"col-md-2"},{name:"officeAddress",display:"Office address",css:"col-md-2"},{name:"billingAddress",display:"Billing address",css:"col-md-2"},{name:"orgCode",display:"Org code",css:"col-md-1"},{name:"costCentre",display:"Cost centre",css:"col-md-2"}]},i()}function i(){u.isGridLoading=!0,e(function(){u.data=[];for(var e=0;e<10;e++)u.data.push({id:e,name:"Sebastien",email:"nguyeminhtien@gmail.com",contactNo:"96444123",officeAddress:"BIk 31 Martine Parade Street 29, #20-23 S6613426",billingAddress:"BIk 31 Martine Parade Street 29, #20-23 S6613426",orgCode:"ICA",costCentre:"Cost centre "+e});u.options.totalItems=175,u.isGridLoading=!1},1e3)}function r(){u.userDetail={};var e={addNewUser:a};l(e)}function a(){u.data.push({name:u.userDetail.firstName+" "+u.userDetail.lastName,email:u.userDetail.email,contactNo:u.userDetail.mobileNumber,officeAddress:u.userDetail.workAddress.postalCode+" "+u.userDetail.workAddress.blockNumber+" "+u.userDetail.workAddress.streetName+" "+u.userDetail.workAddress.unitNumber,billingAddress:u.userDetail.billingAddress.postalCode+" "+u.userDetail.billingAddress.blockNumber+" "+u.userDetail.billingAddress.streetName+" "+u.userDetail.billingAddress.unitNumber,orgCode:"ICA",costCentre:u.userDetail.costCenter})}function s(e){u.userDetail={id:2,firstName:"Tien",lastName:"Nguyen Minh",email:"nguyeminhtien@gmail.com",phoneNumber:96444123,workAddress:{postalCode:"Postal Code 1",blockNumber:"BIk 31",streetName:"Martine Parade Street 29",unitNumber:"#20-23 S6613426"},billingAddresses:[{postalCode:"Postal Code 1",blockNumber:"BIk 31",streetName:"Martine Parade Street 29",unitNumber:"#20-23 S6613426"}],orgCode:"ICA",costCentre:"Cost centre 3"};var t={updateUser:c};l(t)}function l(e){t.createPopup({templateUrl:"app/components/customer/user/userDetail.html",size:"lg",data:u.userDetail},e)}function c(){alert("messi")}var u=this;u.userDetail={},u.getUserByCriteria=i,u.addNewUser=r,n()}angular.module("adminUser.module",["ngRoute"]).config(e).controller("AdminUserController",t),e.$inject=["$routeProvider"],t.$inject=["$timeout","modalService"]}(),function(){"use strict";function e(e){e.when("/milkrun",{title:"MilkRun management",category:"Users",controller:"MilkRunManagementController",templateUrl:"app/components/milkRun/detail.html",controllerAs:"vm",authorize:"Admin"})}function t(e,t){}angular.module("milkRun.module",["ngRoute"]).config(e).controller("MilkRunManagementController",t),e.$inject=["$routeProvider"],t.$inject=["$location","$timeout"]}(),function(){"use strict";function e(e,t,n,o,i){function r(){return!!c()}function a(e){var t=c();return!!(t&&o[t.role]>=o[e])}function s(o,r){var a=t.defer(),s=i.serviceUrl+"/token",l="grant_type=password&username="+o+"&password="+r;return e.post(s,l,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t={access_token:e.data.access_token,token_type:e.data.token_type,userName:e.data.userName},o={userName:e.data.userName,role:"superadmin"===e.data.userName?"SuperAdmin":"Admin"};n.set("tokenInfo",t),n.set("userInfo",o),a.resolve()},function(e){a.reject()}),a.promise}function l(){n.remove("tokenInfo"),n.remove("userInfo")}function c(){return n.get("userInfo")}var u={isAuthenticated:r,isAuthorized:a,login:s,logout:l,getCurrentUser:c};return u}angular.module("main.module").factory("authService",e),e.$inject=["$http","$q","localStorageService","systemRole","systemSetting"]}(),function(){"use strict";function e(e){function t(t,n,o){var i=e.open({animation:!0,templateUrl:t.templateUrl,controller:"ModalInstanceCtrl",controllerAs:"vm",size:t.size,backdrop:"static",resolve:{data:function(){return t.data}}});i.result.then(function(e){n[e]()},o)}function n(t,n,o,i){var r=e.open({animation:!0,templateUrl:"app/directives/commonControls/warningModal/warningModal.html",controller:"ModalInstanceCtrl",controllerAs:"vm",backdrop:"static",resolve:{data:function(){return{message:t,title:n,isHideActionButton:i}}}});r.result.then(function(e){o&&o()})}var o={createPopup:t,createWarningPopup:n};return o}angular.module("main.module").factory("modalService",e),e.$inject=["$uibModal"]}(),function(){"use strict";function e(e,t,n){function o(e){e.headers=e.headers||{};var n=t.get("tokenInfo");return n&&(e.headers.Authorization=n.token_type+" "+n.access_token),e}var i={request:o};return i}angular.module("main.module").factory("httpInterceptor",e),e.$inject=["$q","localStorageService","systemSetting"]}(),function(){"use strict";function e(e,t,n){function o(t){return t.id?e.put(a+t.id,t):e.post(a,t)}function i(t){var n=a+"?offset="+(t.currentPage-1)*t.itemPerPage;return n+="&limit="+t.itemPerPage,t.searchTerm&&(n+="&search="+t.searchTerm),t.sortColumn&&(n+="&sortBy="+t.sortColumn,n+="&ascending="+t.sortAscending),e.get(n)}function r(t){return e.get(a+t)}var a=n.serviceUrl+"/api/adminusers/",s={saveAdminUser:o,getAdminUserByCriteria:i,getAdminUserById:r};return s}angular.module("main.module").factory("adminUserService",e),e.$inject=["$http","$q","systemSetting"]}(),function(){"use strict";function e(e){function t(e){n.options.sortColumn===e?n.options.sortAscending=!n.options.sortAscending:(n.options.sortAscending=!0,n.options.sortColumn=e),n.actionRequest()}var n=this;n.setItemPerPage=e,n.options={sortColumn:"",sortAscending:!0,itemPerPage:20},n.sort=t}angular.module("main.module").directive("grid",function(){return{restrict:"E",scope:{gridConfig:"=",options:"=",data:"=",actionRequest:"&",isLoading:"="},templateUrl:"app/directives/commonControls/grid/grid.html",controller:e,controllerAs:"vm",bindToController:!0}}),e.$inject=["setItemPerPage"]}(),function(){"use strict";function e(e,t){function n(e){l.optionsGrid.sortColumn===e?l.optionsGrid.sortAscending=!l.optionsGrid.sortAscending:(l.optionsGrid.sortAscending=!0,l.optionsGrid.sortColumn=e),l.actionRequest()}function o(e){t.path(l.gridConfig.navigationDetail+e)}function i(e){console.log("select > "+e.id),a(e.id)}function r(e){console.log("deselect : "+e.id),s(e.id)}function a(e){switch(e){case 1:l.column1=!0;break;case 2:l.column2=!0;break;case 3:l.column3=!0;break;case 4:l.column4=!0;break;case 5:l.column5=!0;break;case 6:l.column6=!0;break;case 7:l.column7=!0;break;case 8:l.column8=!0}}function s(e){switch(e){case 1:l.column1=!1;break;case 2:l.column2=!1;break;case 3:l.column3=!1;break;case 4:l.column4=!1;break;case 5:l.column5=!1;break;case 6:l.column6=!1;break;case 7:l.column7=!1;break;case 8:l.column8=!1}}var l=this;l.setItemPerPage=e,l.optionsGrid={sortColumn:"",sortAscending:!0,itemPerPage:20,totalItems:0},l.sort=n,l.navigateToDetail=o,l.columnModel=[],l.columnsData=[{id:1,label:"Collection barcode"},{id:2,label:"Customer"},{id:3,label:"Created date"},{id:4,label:"Request type"},{id:5,label:"Request status"},{id:6,label:"Status"},{id:7,label:"Pick up point"},{id:8,label:"Delivery point"}],l.defaultText={buttonDefaultText:"Default"},l.column1=!0,l.column2=!0,l.column3=!0,l.column4=!0,l.column5=!0,l.column6=!0,l.column7=!0,l.column8=!0,l.columnModel=[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8}],l.eventListeners={onItemSelect:i,onItemDeselect:r}}angular.module("main.module").directive("gridExt",function(){return{restrict:"E",scope:{gridConfig:"=",optionsGrid:"=",options:"=",data:"=",actionRequest:"&",isLoading:"="},templateUrl:"app/directives/commonControls/gridExt/gridExt.html",controller:e,controllerAs:"vm",bindToController:!0}}),e.$inject=["setItemPerPage","$location"]}(),function(){"use strict";function e(e,t){var n=this;n.data=t,n.ok=function(t){e.close(t)},n.cancel=function(){e.dismiss("cancel")}}angular.module("main.module").controller("ModalInstanceCtrl",e),e.$inject=["$uibModalInstance","data"]}(),function(){"use strict";function e(e,t,n,o){function i(){n.logout(),e.currentUser=null,t.path("/login")}var r=this;r.pageName=o,r.logout=i}angular.module("main.module").directive("headerPage",function(){return{restrict:"E",templateUrl:"app/directives/header/header.html",controller:e,controllerAs:"vm",bindToController:!0}}),e.$inject=["$rootScope","$location","authService","pageName"]}(),function(){"use strict";angular.module("main.module").directive("compareTo",function(){return{restrict:"A",require:"ngModel",scope:{compareTo:"=compareTo"},link:function(e,t,n,o){t.bind("keyup",function(){e.$apply(function(){var n=t.val(),i=e.compareTo,r=n&&n===i;o.$setValidity("compareTo",r)})})}}})}(),function(){"use strict";function e(){var e=this;e.isOpen=!1,e.openCalendar=function(t){t.preventDefault(),t.stopPropagation(),e.isOpen=!0}}angular.module("main.module").directive("customDatePicker",function(){return{restrict:"E",scope:{ngModel:"="},templateUrl:"app/directives/commonControls/datePicker/datePicker.html",controller:e,controllerAs:"vm",bindToController:!0}})}(),function(){"use strict";function e(){var e=this;e.timepickerOptions={showMeridian:!1},e.isOpen=!1,e.openCalendar=function(t){t.preventDefault(),t.stopPropagation(),e.isOpen=!0}}angular.module("main.module").directive("customTimePicker",function(){return{restrict:"E",scope:{ngModel:"="},templateUrl:"app/directives/commonControls/timePicker/timePicker.html",controller:e,controllerAs:"vm",bindToController:!0}})}(),function(){"use strict";function e(){function e(){n.userDetail.billingAddresses.push({postalCode:"",blockNumber:"",streetName:"",unitNumber:""})}function t(e){n.userDetail.billingAddresses.splice(e,1)}var n=this;n.addBillingAddress=e,n.deleteBillAddress=t}angular.module("main.module").directive("userClientDetail",function(){return{restrict:"E",scope:{userDetail:"=",onCreate:"&",onCancel:"&"},templateUrl:"app/directives/userClient/userClientDetail.html",controller:e,controllerAs:"vm",bindToController:!0}})}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/directives/adhocItem/adhocItemDetail.html",scope:{itemDetail:"=",onCreate:"&",onCancel:"&"},controller:t,controllerAs:"vm",bindToController:!0};return e}function t(e){function t(){o.itemDetail.unitVol=0,o.itemDetail.width=0,o.itemDetail.height=0,o.itemDetail.depth=0}function n(e,t){o.itemDetail.unitVol=o.itemDetail.width*o.itemDetail.height*o.itemDetail.depth}var o=this;t(),e.$watch("vm.itemDetail.width + vm.itemDetail.height + vm.itemDetail.depth",n)}angular.module("main.module").directive("adhocItemDetail",e),t.$inject=["$scope"]}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/directives/adhocCharge/adhocChargeDetail.html",scope:{chargeDetail:"=",onCreate:"&",onCancel:"&"},controller:t,controllerAs:"vm",bindToController:!0};return e}function t(){function e(){}e()}angular.module("main.module").directive("adhocChargeDetail",e)}(),function(){"use strict";function e(){function e(){o()}function t(e){return[{postalCode:"Postal Code 1",blockNumber:"70",streetName:"Anson Road 1",unitNumber:"2326"},{postalCode:"Postal Code 2",blockNumber:"80",streetName:"Anson Road 2",unitNumber:"2326"},{postalCode:"Postal Code 3",blockNumber:"70",streetName:"Anson Road 3",unitNumber:"2326"}]}function n(e){i.ngModel.postalCode=e.postalCode,i.ngModel.blockNumber=e.blockNumber,i.ngModel.streetName=e.streetName,i.ngModel.unitNumber=e.unitNumber}function o(){i.ngModel.postalCode||i.ngModel.blockNumber||i.ngModel.streetName||i.ngModel.unitNumber?i.isValid=!0:i.isValid=!1}var i=this;i.searchAddressByPostalCode=t,i.onSelect=n,i.checkValidAddress=o,e()}angular.module("main.module").directive("userAddress",function(){return{restrict:"E",scope:{ngModel:"=",isSearchable:"=",isDelete:"=?",isShowFullWidth:"=",onDelete:"&?",isValid:"=?",isShowWarning:"=?",warningMessage:"@?"},templateUrl:"app/directives/userClient/userAddress.html",controller:e,controllerAs:"vm",bindToController:!0}})}(),function(){"use strict";function e(e,t){function n(){o(),i()}function o(){a.options={sortColumn:"",sortAscending:!0,itemPerPage:20,currentPage:1,searchTerm:""},a.gridConfig={onClickRowDetail:r,columns:[{name:"barcode",display:"Barcode",columnNameSort:"barcode"},{name:"customer",display:"Customer",columnNameSort:"customer"},{name:"pickUpPoint",display:"Pick up point",columnNameSort:"pickUpPoint"},{name:"deliveryPoint",display:"Delivery Point",columnNameSort:"deliveryPoint"},{name:"frequency",display:"Frequency",columnNameSort:"frequency"},{name:"items",display:"Items",columnNameSort:"items"},{name:"status",display:"Status",columnNameSort:"status"}]}}function i(){a.isGridLoading=!0,t(function(){a.listMilkRun=[];for(var e=0;e<10;e++)a.listMilkRun.push({id:e,barcode:"Sebastien",customer:"ICA - Costal Command",pickUpPoint:"10 Brani Way Singapore 098753  #05-04",deliveryPoint:"31 Marina Coastal Drive Singapore 175384 #03-20",frequency:"Weekly (Mondays, Tuesdays), After Office Hours",items:"Up to 5kg(x2), < 5kg - 10kg (x10), < 10kg - 30kg(x6)",status:"Pickup (2/6)"});a.options.totalItems=175,a.isGridLoading=!1},1e3)}function r(t){e.path("/users/detail/"+t.id)}var a=this;a.getMilkRunByCriteria=i,n()}angular.module("main.module").directive("milkRunManagement",function(){return{restrict:"E",scope:{},templateUrl:"app/directives/milkRun/milkRunManagement.html",controller:e,controllerAs:"vm",bindToController:!0}}),e.$inject=["$location","$timeout"]}();